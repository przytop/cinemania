import{T as k,o as E}from"./assets/main-de271166.js";import"./assets/vendor-aedd9b60.js";document.addEventListener("DOMContentLoaded",async()=>{const c=new k,o=document.querySelector(".catalog-movie-list"),i=document.querySelector(".catalog-sorry-message"),a=document.querySelector(".input-text"),p=document.querySelector(".catalog-button"),l=document.querySelector(".year-select"),d=document.querySelector(".x-button"),y={"Science Fiction":"Sci-Fi"};i.style.display="none";const u=async(t="",e=1)=>{try{return t?(await c.searchMovie(t,e)).slice(0,18):(await c.getTrendingMovies("week")).slice(0,18)}catch(n){return console.error("Error fetching movies:",n),[]}},f=await(async()=>{try{return await c.getMovieGenres()}catch(t){return console.error("Error fetching genres:",t),[]}})(),m=(t,e)=>e?t.filter(n=>new Date(n.release_date).getFullYear()==e):t,M=t=>{const e=Math.floor(t/2),n=t%2>=1?1:0;return'<svg class="star full"><use xlink:href="#icon-star"></use></svg>'.repeat(e)+(n?'<svg class="star half"><use xlink:href="#icon-star-half"></use></svg>':"")+'<svg class="star empty"><use xlink:href="#icon-star-outline"></use></svg>'.repeat(5-Math.ceil(t/2))},g=t=>{o.innerHTML="",i.style.display=t.length?"none":"block",t.forEach(e=>{const n=e.genre_ids.slice(0,2).map(r=>{var h;return((h=f.find(b=>b.id===r))==null?void 0:h.name)||"Unknown"}).map(r=>y[r]||r).join(", "),w=e.release_date?new Date(e.release_date).getFullYear():"Unknown",S=Math.round(e.vote_average*10)/10,s=document.createElement("li");s.classList.add("card"),s.style.background=`url(https://image.tmdb.org/t/p/w500${e.poster_path}) center/cover`,s.dataset.id=e.id,s.innerHTML=`
        <div class="card-content">
          <h2>${e.title}</h2>
          <p>${n} | ${w} <span class="stars">${M(S)}</span></p>
        </div>
      `,s.addEventListener("click",()=>E(e.id)),o.appendChild(s)})},v=async()=>g(m(await u(a.value.trim()),l.value));p.addEventListener("click",()=>v()),l.addEventListener("change",()=>v()),d.addEventListener("click",()=>a.value=""),a.addEventListener("input",()=>d.style.visibility=a.value.trim()?"visible":"hidden"),g(await u())});
//# sourceMappingURL=commonHelpers.js.map
