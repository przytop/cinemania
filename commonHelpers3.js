import{o as f,T as v}from"./assets/main-a652ee94.js";import"./assets/vendor-aedd9b60.js";const u=document.querySelector(".my-library-movie-list"),p=document.querySelector(".my-library-sorry"),l=document.querySelector(".my-library-main-section .my-library-button"),g=document.querySelector(".my-library-main-section"),c=document.querySelector("#genre");let a=0;const b=9,y=new Map;async function S(){try{(await new v().getMovieGenres()).forEach(n=>{n.id&&n.name&&y.set(n.id,n.name)})}catch(e){console.error("Error fetching genres:",e)}}function h(e){const t=document.createElement("li");t.classList.add("my-library-movie-list-item");const n=(e.genre_ids||[]).map(s=>y.get(s)||"Unknown").join(", "),i=e.id,r=new Date(e.release_date).getFullYear();t.dataset.id=i;const o=`https://image.tmdb.org/t/p/w500${e.poster_path}`;return t.style.backgroundImage=`url(${o})`,t.style.backgroundSize="cover",t.style.backgroundPosition="center",t.innerHTML=`
    <div class="my-library-gradient"></div>
    <div class="my-library-movie">
      <span class="my-library-movie-title">${e.title}</span>
      <span class="my-library-movie-genres">${n} | ${r}</span>
    </div>
  `,t}function d(e="",t=!0){const n=JSON.parse(localStorage.getItem("myLibrary"))||[];t&&(a=0);const i=e?n.filter(r=>(r.genre_ids||[]).some(s=>y.get(s).toLowerCase()===e.toLowerCase())):n;t&&(u.innerHTML=""),i.length>0?(g.style.display="block",p.style.display="none",document.querySelector(".genre-form").style.display="block",i.slice(a,a+b).forEach(o=>{const s=h(o);u.appendChild(s)}),a+=b,a>=i.length?l.style.display="none":l.style.display="block"):(p.style.display="block",g.style.display="none",document.querySelector(".genre-form").style.display="none",l.style.display="none"),document.querySelectorAll(".my-library-movie-list-item").forEach(r=>{r.addEventListener("click",o=>{const m=o.currentTarget.dataset.id;m&&f(m)})})}l.addEventListener("click",function(){d(c.value,!1)});c.addEventListener("change",function(){const e=c.value;d(e)});async function L(){await S(),d()}L();
//# sourceMappingURL=commonHelpers3.js.map
