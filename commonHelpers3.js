import{o as b,T as v}from"./assets/main-a9b30514.js";import"./assets/vendor-aedd9b60.js";const u=document.querySelector(".my-library-movie-list"),p=document.querySelector(".my-library-sorry"),c=document.querySelector(".my-library-main-section .my-library-button"),f=document.querySelector(".my-library-main-section"),s=document.querySelector("#genre");let a=0;const g=9,d=new Map;async function h(){try{(await new v().getMovieGenres()).forEach(t=>{t.id&&t.name&&d.set(t.id,t.name)}),S()}catch(e){console.error("Error fetching genres:",e)}}function S(){if(!s.querySelector('option[value=""]')){const e=document.createElement("option");e.value="",e.textContent="Genre",e.disabled=!0,e.selected=!0,s.appendChild(e)}d.forEach((e,n)=>{const t=document.createElement("option");t.value=e.toLowerCase(),t.textContent=e,s.appendChild(t)})}function L(e){const n=document.createElement("li");n.classList.add("my-library-movie-list-item");const t=(e.genre_ids||[]).map(i=>d.get(i)||"Unknown").join(", "),l=e.id,o=new Date(e.release_date).getFullYear();n.dataset.id=l;const r=`https://image.tmdb.org/t/p/w500${e.poster_path}`;return n.style.backgroundImage=`url(${r})`,n.style.backgroundSize="cover",n.style.backgroundPosition="center",n.innerHTML=`
    <div class="my-library-gradient"></div>
    <div class="my-library-movie">
      <span class="my-library-movie-title">${e.title}</span>
      <span class="my-library-movie-genres">${t} | ${o}</span>
    </div>
  `,n}function y(e="",n=!0){const t=JSON.parse(localStorage.getItem("myLibrary"))||[];n&&(a=0);const l=e?t.filter(o=>(o.genre_ids||[]).some(i=>d.get(i).toLowerCase()===e.toLowerCase())):t;n&&(u.innerHTML=""),l.length>0?(f.style.display="block",p.style.display="none",document.querySelector(".genre-form").style.display="block",l.slice(a,a+g).forEach(r=>{const i=L(r);u.appendChild(i)}),a+=g,a>=l.length?c.style.display="none":c.style.display="block"):(p.style.display="block",f.style.display="none",document.querySelector(".genre-form").style.display="none",c.style.display="none"),document.querySelectorAll(".my-library-movie-list-item").forEach(o=>{o.addEventListener("click",r=>{const m=r.currentTarget.dataset.id;m&&b(m)})})}c.addEventListener("click",function(){y(s.value,!1)});s.addEventListener("change",function(){const e=s.value;y(e)});async function E(){y(),h()}E();
//# sourceMappingURL=commonHelpers3.js.map
