{"version":3,"file":"main-fef48ea1.js","sources":["../../src/js/switch-theme.js","../../src/js/tmdb-api.js","../../src/js/scroll-to-top.js"],"sourcesContent":["const switcher = document.querySelector('.theme-switcher');\nconst body = document.body;\n\nfunction switchTheme() {\n  const currentTheme = body.getAttribute('data-theme') || 'dark';\n  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';\n\n  body.setAttribute('data-theme', newTheme);\n\n  // Save the user's preference\n  localStorage.setItem('theme', newTheme);\n}\n\nswitcher.addEventListener('click', switchTheme);\n\n// Apply the saved theme on page load\ndocument.addEventListener('DOMContentLoaded', () => {\n  const savedTheme = localStorage.getItem('theme') || 'dark';\n  body.setAttribute('data-theme', savedTheme);\n});\n","'use strict';\n\nimport axios from 'axios';\n\nexport default class TmdbApi {\n  constructor() {\n    this.axios = axios.create({\n      baseURL: 'https://api.themoviedb.org/3',\n      headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${import.meta.env.VITE_API_KEY}`, // VITE_API_KEY must be set correctly in environment variables\n      },\n    });\n  }\n\n  async _fetch(endpoint, params = {}) {\n    try {\n      const response = await this.axios.get(endpoint, { params });\n      return response.data;\n    } catch (error) {\n      console.error(`Failed to fetch ${endpoint}: ${error.message}`);\n      throw error;\n    }\n  }\n\n  async getTrendingMovies(time_window) {\n    if (!['day', 'week'].includes(time_window)) {\n      throw new Error(\"Invalid time_window. Must be 'day' or 'week'\");\n    }\n    return (await this._fetch(`/trending/movie/${time_window}`)).results;\n  }\n\n  async getUpcomingMovies() {\n    return (await this._fetch(`/movie/upcoming`)).results;\n  }\n\n  async searchMovie(query, page = 1) {\n    return (await this._fetch('/search/movie', { query, page })).results;\n  }\n\n  async getMovieDetails(movie_id, type_of_data) {\n    const data = await this._fetch(`/movie/${movie_id}`);\n    if (!data[type_of_data]) {\n      throw new Error(`Not found ${type_of_data} for ID ${movie_id}`);\n    }\n    return data[type_of_data];\n  }\n\n  async getMovieVideos(movie_id) {\n    return (await this._fetch(`/movie/${movie_id}/videos`)).results;\n  }\n\n  async getMovieGenres() {\n    return (await this._fetch('/genre/movie/list')).genres;\n  }\n\n  async getCountriesList() {\n    return await this._fetch('/configuration/countries');\n  }\n}\n\n// Testing\nconst tmdb = new TmdbApi();\nconst test = async () => {\n  try {\n    console.log(await tmdb.getTrendingMovies('day'));\n    console.log(await tmdb.getTrendingMovies('week'));\n    console.log(await tmdb.getUpcomingMovies());\n    console.log(await tmdb.searchMovie('Dune'));\n    console.log(await tmdb.getMovieDetails(438631, 'title'));\n    console.log(await tmdb.getMovieVideos(438631));\n    console.log(await tmdb.getMovieGenres());\n    console.log(await tmdb.getCountriesList());\n  } catch (error) {\n    console.error('Test failed:', error);\n  }\n};\n\n// test();\n","import throttle from 'lodash.throttle';\n\nwindow.addEventListener(\n  'scroll',\n  throttle(function () {\n    const scrollUpBtn = document.getElementById('scrollUpBtn');\n    if (window.scrollY > 50) {\n      scrollUpBtn.style.display = 'block';\n    } else {\n      scrollUpBtn.style.display = 'none';\n    }\n  }, 100)\n);\n\ndocument.getElementById('scrollUpBtn').addEventListener('click', function () {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n"],"names":["switcher","body","switchTheme","newTheme","savedTheme","TmdbApi","axios","endpoint","params","error","time_window","query","page","movie_id","type_of_data","data","throttle","scrollUpBtn"],"mappings":"ivBAAA,MAAMA,EAAW,SAAS,cAAc,iBAAiB,EACnDC,EAAO,SAAS,KAEtB,SAASC,GAAc,CAErB,MAAMC,GADeF,EAAK,aAAa,YAAY,GAAK,UACtB,OAAS,QAAU,OAErDA,EAAK,aAAa,aAAcE,CAAQ,EAGxC,aAAa,QAAQ,QAASA,CAAQ,CACxC,CAEAH,EAAS,iBAAiB,QAASE,CAAW,EAG9C,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAME,EAAa,aAAa,QAAQ,OAAO,GAAK,OACpDH,EAAK,aAAa,aAAcG,CAAU,CAC5C,CAAC,ECfc,MAAMC,CAAQ,CAC3B,aAAc,CACZ,KAAK,MAAQC,EAAM,OAAO,CACxB,QAAS,+BACT,QAAS,CACP,OAAQ,mBACR,cAAe,UAAU,CAAA,EAAgB,YAAY,EACtD,CACP,CAAK,CACF,CAED,MAAM,OAAOC,EAAUC,EAAS,GAAI,CAClC,GAAI,CAEF,OADiB,MAAM,KAAK,MAAM,IAAID,EAAU,CAAE,OAAAC,CAAM,CAAE,GAC1C,IACjB,OAAQC,EAAO,CACd,cAAQ,MAAM,mBAAmBF,CAAQ,KAAKE,EAAM,OAAO,EAAE,EACvDA,CACP,CACF,CAED,MAAM,kBAAkBC,EAAa,CACnC,GAAI,CAAC,CAAC,MAAO,MAAM,EAAE,SAASA,CAAW,EACvC,MAAM,IAAI,MAAM,8CAA8C,EAEhE,OAAQ,MAAM,KAAK,OAAO,mBAAmBA,CAAW,EAAE,GAAG,OAC9D,CAED,MAAM,mBAAoB,CACxB,OAAQ,MAAM,KAAK,OAAO,iBAAiB,GAAG,OAC/C,CAED,MAAM,YAAYC,EAAOC,EAAO,EAAG,CACjC,OAAQ,MAAM,KAAK,OAAO,gBAAiB,CAAE,MAAAD,EAAO,KAAAC,EAAM,GAAG,OAC9D,CAED,MAAM,gBAAgBC,EAAUC,EAAc,CAC5C,MAAMC,EAAO,MAAM,KAAK,OAAO,UAAUF,CAAQ,EAAE,EACnD,GAAI,CAACE,EAAKD,CAAY,EACpB,MAAM,IAAI,MAAM,aAAaA,CAAY,WAAWD,CAAQ,EAAE,EAEhE,OAAOE,EAAKD,CAAY,CACzB,CAED,MAAM,eAAeD,EAAU,CAC7B,OAAQ,MAAM,KAAK,OAAO,UAAUA,CAAQ,SAAS,GAAG,OACzD,CAED,MAAM,gBAAiB,CACrB,OAAQ,MAAM,KAAK,OAAO,mBAAmB,GAAG,MACjD,CAED,MAAM,kBAAmB,CACvB,OAAO,MAAM,KAAK,OAAO,0BAA0B,CACpD,CACH,CAGa,IAAIR,EC5DjB,OAAO,iBACL,SACAW,EAAS,UAAY,CACnB,MAAMC,EAAc,SAAS,eAAe,aAAa,EACrD,OAAO,QAAU,GACnBA,EAAY,MAAM,QAAU,QAE5BA,EAAY,MAAM,QAAU,MAE/B,EAAE,GAAG,CACR,EAEA,SAAS,eAAe,aAAa,EAAE,iBAAiB,QAAS,UAAY,CAC3E,OAAO,SAAS,CACd,IAAK,EACL,SAAU,QACd,CAAG,CACH,CAAC"}