import{a as N,t as C}from"./vendor-f9df95ff.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const D=document.querySelector(".theme-switcher"),v=document.documentElement;function T(){const t=v.getAttribute("data-theme")==="dark"?"light":"dark";v.setAttribute("data-theme",t),localStorage.setItem("theme",t)}D.addEventListener("click",T);class a{constructor(){this.axios=N.create({baseURL:"https://api.themoviedb.org/3",headers:{accept:"application/json",Authorization:`Bearer ${{}.VITE_API_KEY}`,Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxOWZhNTk0Y2Q2ZWRlZDUxZGFlZTA0ODU0NjY1MjdkYiIsIm5iZiI6MTcyMjAzNzc3Mi41NzIxMDMsInN1YiI6IjY2YTE3MjQ1ZTE1OTc2ZWJmYWI4YmYzZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.G9xrsM-y8LQuvYrOh8SZI1olRXGF_yNK39ZipUP4QbY"}})}async _fetch(e,o={}){try{return(await this.axios.get(e,{params:o})).data}catch(r){throw console.error(`Failed to fetch ${e}: ${r.message}`),r}}async getTrendingMovies(e){if(!["day","week"].includes(e))throw new Error("Invalid time_window. Must be 'day' or 'week'");return(await this._fetch(`/trending/movie/${e}`)).results}async getUpcomingMovies(){return(await this._fetch("/movie/upcoming")).results}async searchMovie(e,o=1){return(await this._fetch("/search/movie",{query:e,page:o})).results}async getMovieDetails(e,o){const r=await this._fetch(`/movie/${e}`);if(!r[o])throw new Error(`Not found ${o} for ID ${e}`);return r[o]}async getMovieVideos(e){return(await this._fetch(`/movie/${e}/videos`)).results}async getMovieGenres(){return(await this._fetch("/genre/movie/list")).genres}async getCountriesList(){return await this._fetch("/configuration/countries")}}new a;document.addEventListener("DOMContentLoaded",async function(){const t=document.getElementById("weekly-cards"),e=new a,o={"Science Fiction":"Sci-Fi"};try{(await e.getTrendingMovies("week")).slice(0,3).forEach(async s=>{const n=document.createElement("div");n.classList.add("card");const i=`https://image.tmdb.org/t/p/w500${s.poster_path}`,k=s.title,E=s.release_date?new Date(s.release_date).getFullYear():"Unknown",d=Math.round(s.vote_average*10)/10,M=await e.getMovieGenres(),b=s.genre_ids.slice(0,2).map(O=>{const h=M.find(B=>B.id===O),f=h?h.name:"Unknown";return o[f]||f}).join(", "),I=5,u=Math.floor(d/2),m=d%2>=1?1:0,S=I-u-m,x=[...Array(u).fill('<svg class="star full"><use xlink:href="#icon-star"></use></svg>'),...Array(m).fill('<svg class="star half"><use xlink:href="#icon-star-half"></use></svg>'),...Array(S).fill('<svg class="star empty"><use xlink:href="#icon-star-outline"></use></svg>')].join("");n.style.backgroundImage=`url(${i})`,n.style.backgroundSize="cover",n.style.backgroundPosition="center",n.style.height="574px",n.style.color="var(--white-color)",n.innerHTML=`
        <div class="card-content">
          <h2>${k}</h2>
          <p>${b} | ${E} <span class="stars">${x}</span></p>
        </div>
      `,t.appendChild(n)})}catch(r){console.error("Error fetching data:",r)}});window.addEventListener("scroll",C(function(){const t=document.getElementById("scrollUpBtn");window.scrollY>50?t.style.display="block":t.style.display="none"},100));document.getElementById("scrollUpBtn").addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});class A{constructor(e){this.localStorageKey=e,this.movies=JSON.parse(localStorage.getItem(this.localStorageKey))||[]}_saveData(){try{localStorage.setItem(this.localStorageKey,JSON.stringify(this.movies))}catch(e){console.error("Error saving data:",e)}}addMovie(e){this.movies.findIndex(r=>r.id===e.id)===-1?(this.movies.push(e),this._saveData()):console.log("Movie already added:",e)}removeMovie(e){const o=this.movies.findIndex(r=>r.id===e);o!==-1?(this.movies.splice(o,1),this._saveData()):console.log("Movie not found")}getMovies(){return this.movies}}new A("local-movies");document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".modal-btn-open"),e=document.querySelector(".modal-btn-close"),o=document.querySelector(".backdrop");t&&e&&o?(t.addEventListener("click",()=>{o.classList.remove("is-closed")}),e.addEventListener("click",()=>{o.classList.add("is-closed")}),document.addEventListener("keydown",function(r){r.key==="Escape"&&o.classList.add("is-closed")})):console.error("One or more elements are missing. Check the selectors and the HTML structure.")});const Y=document.getElementById("our-team-btn"),c=document.querySelector(".team"),g=document.querySelector(".team-close-btn"),y=document.querySelector("body");Y.addEventListener("click",_);function _(t){t.preventDefault(),c.classList.remove("is-hidden"),document.body.classList.add("modal-open"),$()}function p(t){t.preventDefault(),t.code==="Escape"&&l()}function w(t){t.target.closest(".team-window")||l()}function L(t){t.preventDefault(),l()}function $(){document.addEventListener("keydown",p),c.addEventListener("click",w),g.addEventListener("click",L),y.style.overflow="hidden"}function l(){document.removeEventListener("keydown",p),c.removeEventListener("click",w),g.removeEventListener("click",L),c.classList.add("is-hidden"),document.body.classList.remove("modal-open"),y.style.overflow="auto"}new a;
//# sourceMappingURL=main-64c145c1.js.map
