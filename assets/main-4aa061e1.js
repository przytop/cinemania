import{a as T,t as q}from"./vendor-f9df95ff.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const Y=document.querySelector(".theme-switcher"),g=document.documentElement;function _(){const e=g.getAttribute("data-theme")==="dark"?"light":"dark";g.setAttribute("data-theme",e),localStorage.setItem("theme",e)}Y.addEventListener("click",_);class d{constructor(){this.axios=T.create({baseURL:"https://api.themoviedb.org/3",headers:{accept:"application/json",Authorization:`Bearer ${{}.VITE_API_KEY}`,Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxOWZhNTk0Y2Q2ZWRlZDUxZGFlZTA0ODU0NjY1MjdkYiIsIm5iZiI6MTcyMjAzNzc3Mi41NzIxMDMsInN1YiI6IjY2YTE3MjQ1ZTE1OTc2ZWJmYWI4YmYzZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.G9xrsM-y8LQuvYrOh8SZI1olRXGF_yNK39ZipUP4QbY"}})}async _fetch(t,n={}){try{return(await this.axios.get(t,{params:n})).data}catch(r){throw console.error(`Failed to fetch ${t}: ${r.message}`),r}}async getTrendingMovies(t){if(!["day","week"].includes(t))throw new Error("Invalid time_window. Must be 'day' or 'week'");return(await this._fetch(`/trending/movie/${t}`)).results}async getUpcomingMovies(){return(await this._fetch("/movie/upcoming")).results}async searchMovie(t,n=1){return(await this._fetch("/search/movie",{query:t,page:n})).results}async getMovieDetails(t,n){const r=await this._fetch(`/movie/${t}`);if(!r[n])throw new Error(`Not found ${n} for ID ${t}`);return r[n]}async getMovieVideos(t){return(await this._fetch(`/movie/${t}/videos`)).results}async getMovieGenres(){return(await this._fetch("/genre/movie/list")).genres}async getCountriesList(){return await this._fetch("/configuration/countries")}}new d;document.addEventListener("DOMContentLoaded",async function(){const e=document.getElementById("weekly-cards"),t=new d,n={"Science Fiction":"Sci-Fi"};try{(await t.getTrendingMovies("week")).slice(0,3).forEach(async s=>{const o=document.createElement("div");o.classList.add("card");const i=`https://image.tmdb.org/t/p/w500${s.poster_path}`,M=s.title,S=s.release_date?new Date(s.release_date).getFullYear():"Unknown",m=Math.round(s.vote_average*10)/10,x=await t.getMovieGenres(),B=s.genre_ids.slice(0,2).map(N=>{const y=x.find(D=>D.id===N),v=y?y.name:"Unknown";return n[v]||v}).join(", "),C=5,f=Math.floor(m/2),h=m%2>=1?1:0,O=C-f-h,A=[...Array(f).fill('<svg class="star full"><use xlink:href="#icon-star"></use></svg>'),...Array(h).fill('<svg class="star half"><use xlink:href="#icon-star-half"></use></svg>'),...Array(O).fill('<svg class="star empty"><use xlink:href="#icon-star-outline"></use></svg>')].join("");o.style.backgroundImage=`url(${i})`,o.style.backgroundSize="cover",o.style.backgroundPosition="center",o.style.height="574px",o.style.color="var(--white-color)",o.innerHTML=`
        <div class="card-content">
          <h2>${M}</h2>
          <p>${B} | ${S} <span class="stars">${A}</span></p>
        </div>
      `,e.appendChild(o)})}catch(r){console.error("Error fetching data:",r)}});window.addEventListener("scroll",q(function(){const e=document.getElementById("scrollUpBtn");window.scrollY>50?e.style.display="block":e.style.display="none"},100));document.getElementById("scrollUpBtn").addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});class ${constructor(t){this.localStorageKey=t,this.movies=JSON.parse(localStorage.getItem(this.localStorageKey))||[]}_saveData(){try{localStorage.setItem(this.localStorageKey,JSON.stringify(this.movies))}catch(t){console.error("Error saving data:",t)}}addMovie(t){this.movies.findIndex(r=>r.id===t.id)===-1?(this.movies.push(t),this._saveData()):console.log("Movie already added:",t)}removeMovie(t){const n=this.movies.findIndex(r=>r.id===t);n!==-1?(this.movies.splice(n,1),this._saveData()):console.log("Movie not found")}getMovies(){return this.movies}}new $("local-movies");document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".modal-btn-open"),t=document.querySelector(".modal-btn-close"),n=document.querySelector(".backdrop");e&&t&&n?(e.addEventListener("click",()=>{n.classList.remove("is-closed")}),t.addEventListener("click",()=>{n.classList.add("is-closed")}),document.addEventListener("keydown",function(r){r.key==="Escape"&&n.classList.add("is-closed")})):console.error("One or more elements are missing. Check the selectors and the HTML structure.")});const U=document.getElementById("our-team-btn"),a=document.querySelector(".team"),p=document.querySelector(".team-close-btn"),L=document.querySelector("body");U.addEventListener("click",Z);function Z(e){e.preventDefault(),a.classList.remove("is-hidden"),document.body.classList.add("modal-open"),J()}function w(e){e.preventDefault(),e.code==="Escape"&&u()}function E(e){e.target.closest(".team-window")||u()}function k(e){e.preventDefault(),u()}function J(){document.addEventListener("keydown",w),a.addEventListener("click",E),p.addEventListener("click",k),L.style.overflow="hidden"}function u(){document.removeEventListener("keydown",w),a.removeEventListener("click",E),p.removeEventListener("click",k),a.classList.add("is-hidden"),document.body.classList.remove("modal-open"),L.style.overflow="auto"}new d;const j=new d;z("week");const z=j.getTrendingMovies("week").then(e=>(console.log(e),e));document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".input-text"),t=document.querySelector(".catalog-sorry-message"),n=document.querySelectorAll(".catalog-movie-list-item");t.style.display="none",e.addEventListener("input",function(){const r=e.value.toLowerCase();let s=!1;n.forEach(o=>{o.querySelector(".catalog-movie-title").textContent.toLowerCase().includes(r)?(o.style.display="",s=!0):o.style.display="none"}),s?t.style.display="none":t.style.display="block"})});const F=document.querySelectorAll(".header-nav-list"),G=document.querySelectorAll(".mobile-nav-list"),b=window.location.href;F.forEach(e=>{e.href===b?e.classList.add("active"):e.classList.remove("active")});G.forEach(e=>{e.href===b?e.classList.add("active"):e.classList.remove("active")});const I=document.getElementById("menu-btn"),l=document.getElementById("mobile-menu-modal"),c=document.getElementById("mobile-menu-backdrop");I.addEventListener("click",function(){l.classList.add("open"),c.style.display="block"});c.addEventListener("click",function(e){e.target===c&&(l.classList.remove("open"),c.style.display="none")});document.addEventListener("click",function(e){!l.contains(e.target)&&e.target!==I&&(l.classList.remove("open"),c.style.display="none")});
//# sourceMappingURL=main-4aa061e1.js.map
