{"version":3,"file":"commonHelpers3.js","sources":["../src/js/library.js"],"sourcesContent":["const movieList = document.querySelector('.my-library-movie-list');\nconst sorry = document.querySelector('.my-library-sorry');\nconst loadMoreButton = document.querySelector(\n  '.my-library-main-section .my-library-button'\n);\nconst mainSection = document.querySelector('.my-library-main-section');\nconst genreSelect = document.querySelector('#genre');\n\n// Variables to track state\nlet currentDisplayCount = 0;\nconst batchSize = 9;\n\n// Function to create a movie list item\nfunction createMovieListItem(movie) {\n  const listItem = document.createElement('li');\n  listItem.classList.add('my-library-movie-list-item');\n  const genreString = movie.genre_ids.join(', ');\n\n  listItem.innerHTML = `\n      <a href=\"#\">\n        <img src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\" class=\"my-library-movie-picture\" />\n        <div class=\"my-library-gradient\"></div>\n        <div class=\"my-library-movie\">\n          <span class=\"my-library-movie-title\">${movie.title}</span>\n          <span class=\"my-library-movie-genres\">${genreString} | ${movie.release_date}</span>\n        </div>\n      </a>\n    `;\n\n  return listItem;\n}\n\n// Function to render the movie list\nfunction renderMovieList(genre = '', reset = true) {\n  const movies = JSON.parse(localStorage.getItem('myLibrary')) || [];\n\n  const filteredMovies = genre\n    ? movies.filter(movie =>\n        movie.genre.toLowerCase().includes(genre.toLowerCase())\n      )\n    : movies;\n\n  if (reset) {\n    currentDisplayCount = 0;\n    movieList.innerHTML = ''; // Clear current list\n  }\n\n  if (filteredMovies.length > 0) {\n    mainSection.style.display = 'block';\n    sorry.style.display = 'none';\n\n    const moviesToDisplay = filteredMovies.slice(\n      currentDisplayCount,\n      currentDisplayCount + batchSize\n    );\n    moviesToDisplay.forEach(movie => {\n      const listItem = createMovieListItem(movie);\n      movieList.appendChild(listItem);\n    });\n\n    currentDisplayCount += batchSize;\n\n    if (currentDisplayCount >= filteredMovies.length) {\n      loadMoreButton.style.display = 'none';\n    } else {\n      loadMoreButton.style.display = 'block';\n    }\n  } else {\n    sorry.style.display = 'block';\n    mainSection.style.display = 'none';\n    loadMoreButton.style.display = 'none';\n  }\n}\n\n// Load more button\nloadMoreButton.addEventListener('click', function () {\n  renderMovieList(genreSelect.value, false);\n});\n\n// Event listener for genre selection\ngenreSelect.addEventListener('change', function () {\n  const selectedGenre = genreSelect.value;\n  renderMovieList(selectedGenre);\n});\n\nrenderMovieList();\n"],"names":["movieList","sorry","loadMoreButton","mainSection","genreSelect","currentDisplayCount","batchSize","createMovieListItem","movie","listItem","genreString","renderMovieList","genre","reset","movies","filteredMovies","selectedGenre"],"mappings":"sEAAA,MAAMA,EAAY,SAAS,cAAc,wBAAwB,EAC3DC,EAAQ,SAAS,cAAc,mBAAmB,EAClDC,EAAiB,SAAS,cAC9B,6CACF,EACMC,EAAc,SAAS,cAAc,0BAA0B,EAC/DC,EAAc,SAAS,cAAc,QAAQ,EAGnD,IAAIC,EAAsB,EAC1B,MAAMC,EAAY,EAGlB,SAASC,EAAoBC,EAAO,CAClC,MAAMC,EAAW,SAAS,cAAc,IAAI,EAC5CA,EAAS,UAAU,IAAI,4BAA4B,EACnD,MAAMC,EAAcF,EAAM,UAAU,KAAK,IAAI,EAE7C,OAAAC,EAAS,UAAY;AAAA;AAAA,mDAE4BD,EAAM,WAAW;AAAA;AAAA;AAAA,iDAGnBA,EAAM,KAAK;AAAA,kDACVE,CAAW,MAAMF,EAAM,YAAY;AAAA;AAAA;AAAA,MAK5EC,CACT,CAGA,SAASE,EAAgBC,EAAQ,GAAIC,EAAQ,GAAM,CACjD,MAAMC,EAAS,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,GAAK,GAE1DC,EAAiBH,EACnBE,EAAO,OAAON,GACZA,EAAM,MAAM,YAAW,EAAG,SAASI,EAAM,aAAa,CACvD,EACDE,EAEAD,IACFR,EAAsB,EACtBL,EAAU,UAAY,IAGpBe,EAAe,OAAS,GAC1BZ,EAAY,MAAM,QAAU,QAC5BF,EAAM,MAAM,QAAU,OAEEc,EAAe,MACrCV,EACAA,EAAsBC,CAC5B,EACoB,QAAQE,GAAS,CAC/B,MAAMC,EAAWF,EAAoBC,CAAK,EAC1CR,EAAU,YAAYS,CAAQ,CACpC,CAAK,EAEDJ,GAAuBC,EAEnBD,GAAuBU,EAAe,OACxCb,EAAe,MAAM,QAAU,OAE/BA,EAAe,MAAM,QAAU,UAGjCD,EAAM,MAAM,QAAU,QACtBE,EAAY,MAAM,QAAU,OAC5BD,EAAe,MAAM,QAAU,OAEnC,CAGAA,EAAe,iBAAiB,QAAS,UAAY,CACnDS,EAAgBP,EAAY,MAAO,EAAK,CAC1C,CAAC,EAGDA,EAAY,iBAAiB,SAAU,UAAY,CACjD,MAAMY,EAAgBZ,EAAY,MAClCO,EAAgBK,CAAa,CAC/B,CAAC,EAEDL,EAAiB"}